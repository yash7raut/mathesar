{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Mathesar Documentation","text":"<p>Mathesar is a straightforward open source tool that provides a spreadsheet-like interface to a PostgreSQL database. Our web-based interface helps you and your collaborators work with data more independently and comfortably \u2013 no technical skills needed.</p> <p>You can use Mathesar to build data models, enter data, and even build reports.</p>"},{"location":"#installation","title":"Installation","text":"<p>Install Mathesar</p>"},{"location":"#product","title":"Product","text":"<p>Mathesar should be pretty intuitive to use. More documentation is coming soon, but for now, we\u2019ve written some documentation for some things that could be tricky.</p> <ul> <li>Syncing Database Changes</li> <li>Users &amp; Access Levels</li> </ul>"},{"location":"#contributing","title":"Contributing","text":"<p>As an open source project, we actively encourage contribution!</p> <ul> <li> <p>Get started by reading our Contributor Guide.</p> </li> <li> <p>You can also contribute by sponsoring us on GitHub or Open Collective</p> </li> </ul>"},{"location":"install/","title":"Install Mathesar","text":"<ul> <li>Install via Docker Compose</li> </ul> <p>More installation methods coming soon</p> <p>We plan to support additional installation methods in the near future, allowing you to run Mathesar without Docker.</p>"},{"location":"install/docker-compose/","title":"Install Mathesar via Docker Compose","text":""},{"location":"install/docker-compose/#requirements","title":"Requirements","text":"<ul> <li> <p>You need Docker and Docker Compose.</p> <p>We\u2019ve tested with Docker v23 and Docker Compose v2.10. Older versions may not work.</p> </li> <li> <p>You need root access.</p> </li> <li> <p>If using a custom domain name</p> <p>Have your domain name ready during the installation process and have your DNS pointing to your Mathesar server.</p> </li> <li> <p>If connecting to an existing database</p> <ul> <li>Ensure the external database can accept network connections from your Mathesar server.</li> <li> <p>Have the following information handy before installation:</p> <ul> <li>Database hostname (cannot yet be <code>localhost</code>)</li> <li>Database port</li> <li>Database name</li> <li>Database username (should exist and be a <code>SUPERUSER</code> more info)</li> <li>Database password</li> </ul> </li> </ul> </li> <li> <p>If installing on Windows, you need to have WSL installed first.</p> </li> </ul>"},{"location":"install/docker-compose/#install","title":"Install","text":"<ol> <li> <p>Paste this command into your terminal to begin installing the latest version of Mathesar:</p> <pre><code>bash &lt;(curl -sfSL https://raw.githubusercontent.com/centerofci/mathesar/0.1.1/install.sh)\n</code></pre> </li> <li> <p>Follow the interactive prompts to configure your Mathesar installation.</p> </li> <li> <p>When finished, the installer will display the URL where you can run Mathesar from your web browser.</p> </li> </ol> <p>Getting help</p> <p>If you run into any problems during installation, see troubleshooting or open a ticket describing your problem.</p>"},{"location":"install/docker-compose/#start-stop","title":"Start/stop the server","text":"<p>The Mathesar server needs to be running for you to use Mathesar. If you restart your machine, you\u2019ll need to start the server again.</p> <ul> <li> <p>Start Mathesar:</p> LinuxMacOS <pre><code>sudo docker compose -f /etc/mathesar/docker-compose.yml --profile prod up -d\n</code></pre> <pre><code>docker compose -f /etc/mathesar/docker-compose.yml --profile prod up -d\n</code></pre> </li> <li> <p>Stop Mathesar:</p> LinuxMacOS <pre><code>sudo docker compose -f /etc/mathesar/docker-compose.yml --profile prod down\n</code></pre> <pre><code>docker compose -f /etc/mathesar/docker-compose.yml --profile prod down\n</code></pre> <p>This stops all Mathesar Docker containers and releases their ports.</p> </li> </ul> <p>Note</p> <p>If you customized the Mathesar configuration directory during installation, you\u2019ll need to change <code>/etc/mathesar</code> to your configuration directory.</p>"},{"location":"install/docker-compose/#upgrade","title":"Upgrade","text":"<p>Manually upgrade Mathesar to the newest version:</p> LinuxMacOS <pre><code>sudo docker exec mathesar-watchtower-1 /watchtower --run-once\n</code></pre> <pre><code>docker exec mathesar-watchtower-1 /watchtower --run-once\n</code></pre> <p>Upgrade from within Mathesar</p> <p>You can also run the upgrade from within Mathesar by logging into as an admin user and navigating to \u201cAdministration\u201d (in the top right menu) &gt; \u201cSoftware Update\u201d</p>"},{"location":"install/docker-compose/#uninstall","title":"Uninstall","text":"<ol> <li> <p>Remove all Mathesar Docker images and containers.</p> LinuxMacOS <pre><code>sudo docker compose -f /etc/mathesar/docker-compose.yml --profile prod down --rmi all -v\n</code></pre> <pre><code>docker compose -f /etc/mathesar/docker-compose.yml --profile prod down --rmi all -v\n</code></pre> </li> <li> <p>Remove configuration files.</p> <pre><code>sudo rm -rf /etc/mathesar\n</code></pre> <p>Note</p> <p>If you customized the Mathesar configuration directory during installation, you\u2019ll need to change <code>/etc/mathesar</code> to your configuration directory.</p> </li> <li> <p>Remove Mathesar internal schemas.</p> <p>If you connected Mathesar to an existing database, the installation process would have created a new schema for Mathesar\u2019s use. You can remove this schema from that database as follows:</p> <ol> <li> <p>Connect to the database.</p> <pre><code>psql -h &lt;DB HOSTNAME&gt; -p &lt;DB PORT&gt; -U &lt;DB_USER&gt; &lt;DB_NAME&gt;\n</code></pre> </li> <li> <p>Delete the schema.</p> <pre><code>DROP SCHEMA mathesar_types CASCADE;\n</code></pre> <p>Danger</p> <p>Deleting this schema will also delete any database objects that depend on it. This should not be an issue if you don\u2019t have any data using Mathesar\u2019s custom data types.</p> </li> </ol> </li> </ol>"},{"location":"install/docker-compose/troubleshooting/","title":"Troubleshooting Docker Compose Installation","text":"<p>We are still testing the install process</p> <p>We\u2019ve tested this installation procedure on Windows, Mac, and a few Linux variants, but Mathesar is in its early stages so there might be unexpected issues. Please open a GitHub issue if you run into any problems.</p>"},{"location":"install/docker-compose/troubleshooting/#restarting-installation","title":"Restarting installation","text":"<p>If something has gone wrong with the installation, you may need to restart the script. Two cases are possible:</p> <ol> <li> <p>The script has started the Docker environment for Mathesar. You can tell this happened if your terminal printed the message    <pre><code>Next, we'll download files and start the server, This may take a few minutes.\n\nPress ENTER to continue.\n</code></pre>    and you subsequently pressed <code>ENTER</code>. In this case, you must run the command</p> LinuxMacOS <pre><code>sudo docker compose -f /etc/mathesar/docker-compose.yml --profile prod down -v\n</code></pre> <pre><code>docker compose -f /etc/mathesar/docker-compose.yml --profile prod down -v\n</code></pre> <p>and then run the installation script again.</p> </li> <li> <p>The script hasn\u2019t yet started the Docker environment, i.e., you haven\u2019t seen the message printed above. In this case, you need only stop the script by pressing <code>CTRL+C</code>, and then run it again.</p> </li> </ol>"},{"location":"install/docker-compose/troubleshooting/#windows","title":"When installing on Windows","text":"<p>Warning</p> <p>The process of installing and running has thus far been much better tested on MacOS and Linux than it has on Windows. Please open issues for any Windows-specific problems you encounter.</p> <ul> <li>During installation, choose \u201cWSL 2\u201d instead of \u201cHyper-V\u201d. WSL is the Windows Sub System for Linux and is required to run Mathesar.</li> <li>See this tutorial for hints if you\u2019re having trouble getting Docker wired up properly.</li> <li>Make sure you\u2019re use the WSL command prompt (rather than DOS or PowerShell) when running the installation script and other commands.</li> </ul>"},{"location":"install/docker-compose/troubleshooting/#docker-versions","title":"Docker versions","text":"<p>The most common problem we\u2019ve encountered is users with out-of-date <code>docker</code> or <code>docker-compose</code> versions.</p> <ul> <li>To determine your <code>docker-compose</code> version, run <code>docker compose version</code>. (Note the lack of hyphen.) You need <code>docker-compose</code> version 2.7 or higher for the installation to succeed. Better if it\u2019s version 2.10 or higher.</li> <li>To determine your <code>docker</code> version, run <code>docker --version</code>. We\u2019ve tested with <code>docker</code> version 23, but lower versions may work.</li> </ul> <p>If you run <code>docker-compose --version</code> and see a relatively old version, try <code>docker compose version</code> and see whether it\u2019s different. The latter is the version that will be used in the script.</p>"},{"location":"install/docker-compose/troubleshooting/#ports","title":"Ports","text":"<p>You may see errors about various ports being unavailable (or already being bound). In this case, uninstall Mathesar to restart from a clean <code>docker</code> state, and choose non-default ports during the installation process for PostgreSQL, HTTP traffic, or HTTPS traffic as appropriate, e.g., using <code>8080</code> for HTTP traffic if <code>80</code> is unavailable. Note that if you customized the configuration directory, you must replace <code>/etc/mathesar</code> with that custom directory in the command.</p>"},{"location":"install/docker-compose/troubleshooting/#connection-problems","title":"Connection problems","text":"<p>In order for Mathesar to install properly, it needs to download some artifacts from <code>https://raw.githubusercontent.com</code>. We\u2019ve received some reports that this domain is blocked for some internet providers in India. If this is the case for you, consider routing around that problem via a custom DNS server, or using a VPN.</p>"},{"location":"install/docker-compose/troubleshooting/#permissions","title":"Permissions","text":"<p>If you have permissions issues when the script begins running <code>docker</code> commands, double-check that your user is in the <code>sudoers</code> file. Try running <code>sudo -v</code>. If that gives an error, your user lacks needed permissions and you should speak with the administrator of your system.</p>"},{"location":"install/docker-compose/troubleshooting/#getting-more-help","title":"Getting more help","text":"<p>If you\u2019re having an issue not covered by this documentation, open an issue on GitHub.</p>"},{"location":"install/docker-compose/under-the-hood/","title":"Docker Compose Installation, Under the Hood","text":""},{"location":"install/docker-compose/under-the-hood/#installation-steps","title":"Installation Steps","text":"<p>These are the steps that the installation script performs, explained in more depth:</p>"},{"location":"install/docker-compose/under-the-hood/#operating-system-check","title":"Operating System Check","text":"<p>The installer attempts to determine what operating system you\u2019re installing Mathesar on. We\u2019ve tested with some variants of macOS as well as a few distros of Linux. Some logic in the installer branches based on your operating system.</p>"},{"location":"install/docker-compose/under-the-hood/#docker-version-check","title":"Docker Version Check","text":"<p>The installer double-checks your Docker and Docker Compose versions, making sure that <code>docker</code> is at least version 20.0.0, and <code>docker-compose</code> is at least version 2.10.0.</p>"},{"location":"install/docker-compose/under-the-hood/#database-configuration","title":"Database Configuration","text":"<p>Mathesar uses two PostgreSQL databases:</p> <ul> <li>an internal database, used to store Mathesar related metadata such as display options. This is set up on the same machine as Mathesar\u2019s deployment.</li> <li>the user database, which stores your data. You can either set up a new database from scratch for this purpose or connect an existing PostgreSQL database.</li> </ul> <p>If you\u2019re setting a database up from scratch, the installer will set up credentials for both databases (a username and password), and also lets you customize the name of your user database. </p> <p>If you\u2019re connecting an existing database, you\u2019ll enter pre-existing credentials for the user database and set up new credentials for the Mathesar internal database.</p> <p>The credentials created in this section are used to log in directly to the database (i.e., not the Mathesar UI). You\u2019ll set up login credentials for the UI in a later step.</p> <p>Finally, Mathesar helps you customize the port exposed to your host machine from the database container. This is useful, since you\u2019ll need to have an exposed port to login to the Mathesar database(s) using an alternate client such as <code>psql</code>, but there could be a conflict on the default port (e.g. for the case that a PostgreSQL instance is running in the host OS).</p>"},{"location":"install/docker-compose/under-the-hood/#webserver-configuration","title":"Webserver Configuration","text":"<p>This section lets you configure the entrypoint (Caddy) for every request you send to Mathesar. You may need to customize the ports if you have other services using ports on your machine. Additionally, you need to configure either a domain or an external IP address if you plan to expose your installation of Mathesar to the internet. Setting up the domain also gets HTTPS working properly on your Mathesar installation.</p>"},{"location":"install/docker-compose/under-the-hood/#domain-setup","title":"Domain setup","text":"<p>The domain specified here should be a valid, registered domain, whose DNS entry points to the IP address of the server on which Mathesar is installed. DNS configuration should be done ahead of time.</p> <p>If you don\u2019t use a domain, Mathesar can still be accessed from the internet using an IP address instead a domain name. Please note that HTTPS will not work without a domain name set up.</p>"},{"location":"install/docker-compose/under-the-hood/#admin-user-configuration","title":"Admin User Configuration","text":"<p>Here, the installer helps you create a user (separate from the database user) that you will use to login to Mathesar through the main web UI. This section walks you through that process to create a username and password for that user. You\u2019re allowed to use the same details as the database user above, but it\u2019s not required, or particularly recommended. The user created in this section will have admin privileges in Mathesar, and be able to create other users after the installation is complete.</p>"},{"location":"install/docker-compose/under-the-hood/#configuration-directory","title":"Configuration Directory","text":"<p>We need to store all the details configured above, and we do so in a file in your configuration directory. Note that this contains your passwords and other secrets, so it should be kept secure. By default, this directory is <code>/etc/mathesar/</code>, but you can change it.</p> <p>We\u2019ll store two files under that directory:</p> <ul> <li><code>.env</code>: This file has the above-mentioned configurations.</li> <li><code>docker-compose.yml</code> This is a config file downloaded from Mathesar\u2019s git repo. It defines the different Docker containers used by Mathesar, and how they\u2019re networked together.</li> </ul> <p>Recommended permissions for the <code>.env</code> file are:</p> <p><code>-rw------- 1 root root 449 Feb 22 13:39 /etc/mathesar/.env</code></p>"},{"location":"install/docker-compose/under-the-hood/#docker-setup","title":"Docker Setup","text":"<ul> <li>The installer downloads the <code>docker-compose.yml</code> file from Mathesar\u2019s repo.</li> <li>The installer pulls all Docker images needed for Mathesar to run properly, and starts the various services in sequence.</li> </ul>"},{"location":"install/docker-compose/under-the-hood/#final-steps","title":"Final Steps","text":"<p>If everything has worked, then the installer prints a message letting you know that it\u2019s succeeded, and gives a little information about where you should go to login to Mathesar.</p>"},{"location":"install/docker-compose/under-the-hood/#docker-containers","title":"Docker containers","text":"<p>This installation process creates the following containers:</p> <ul> <li><code>mathesar_service</code>, which runs the main Mathesar application.</li> <li><code>mathesar_db</code>, which runs the database (PostgreSQL 13).</li> <li><code>mathesar-caddy-reverse-proxy-1</code>, which helps route traffic to the <code>mathesar_service</code> container.</li> <li><code>mathesar-watchtower-1</code>, which helps upgrade Mathesar installation when new releases are available.</li> </ul>"},{"location":"install/docker-compose/under-the-hood/#files","title":"Files","text":"<p>This installation process creates the following files in the Mathesar configuration directory:</p> <ul> <li><code>.env</code>. This file defines the environment inside of the various Mathesar <code>docker</code> containers. It should be kept safe, since it has sensitive information about the passwords you set for Mathesar. If you\u2019ve forgotten your admin username or password, look at this file.</li> <li><code>docker-compose.yml</code>. This is the main file defining the Mathesar containers listed above, and the connections between them.</li> </ul>"},{"location":"product/intro/","title":"Introduction","text":"<p>Welcome! At this point, we assume you\u2019ve installed Mathesar successfully and have logged into the web UI.</p> <p>If you\u2019ve connected Mathesar to an existing database, you should see all your schemas once you log in, and you can work with them as you please.</p> <p>If you\u2019re starting from scratch, we recommend creating a new schema.</p>"},{"location":"product/syncing-db/","title":"Syncing Database Changes","text":"<p>Mathesar is designed to be used in tandem with other database tools. This means that if you make changes to your database structure or data outside of Mathesar, those changes will be reflected in Mathesar\u2019s UI.</p> <p>If you make structural changes to the database outside Mathesar (e.g. using another tool to add a schema, table, or column), those changes will not be reflected in Mathesar until you manually sync them. You can sync them using the \u201cSync Database Changes\u201d button in the database homepage.</p> <p>External changes to data (e.g. adding, editing, or deleting records) will be automatically reflected without clicking this button.</p>"},{"location":"product/users/","title":"Users &amp; Access Levels","text":"<p>Mathesar allows you to set up users with different access levels. A user\u2019s access levels determine what they can do with the data managed in Mathesar.</p> <p>Mathesar\u2019s installation process includes setting up the first user. This user is an Admin.</p>"},{"location":"product/users/#managing-users","title":"Managing Users","text":"<ol> <li>Click on the gear icon on the top right of the application and select Administration.</li> <li>In the left sidebar, click on Users.</li> </ol> <p>Note</p> <ul> <li>Only Admins can add new users.</li> <li>Mathesar does not send invitation emails to new users (yet). You\u2019ll need to send the user their username and password yourself.</li> <li>The user will be prompted to change the password when they log in for the first time.</li> </ul>"},{"location":"product/users/#user-types","title":"User Types","text":"<p>Users can be either Admin or Standard users.</p>"},{"location":"product/users/#admin-users","title":"Admin users","text":"<p>Admin users:</p> <ul> <li>can manage other users (view, add, edit, delete)</li> <li>have Manager permissions on all databases and schemas</li> </ul> <p>You cannot set granular permissions for an Admin user.</p>"},{"location":"product/users/#standard-users","title":"Standard users","text":"<p>By default, Standard users cannot see anything in Mathesar. They will need to be granted database or schema roles individually.</p>"},{"location":"product/users/#database-roles","title":"Database Roles","text":"<p>There are three levels of database roles:</p> <ul> <li>Managers own the database. They can edit all data in the database, as well as edit the structure of data (e.g. create tables, add and remove columns, etc.). They also manage access to the database.</li> <li>Editors can edit all data in the database, but cannot change the underlying data structures or manage access.</li> <li>Viewers have read-only access to all data in the database. They cannot make any changes.</li> </ul>"},{"location":"product/users/#manager","title":"Manager","text":"<ul> <li>Receives Manager permissions on all schemas in the database.</li> <li>Can view, add, and remove other users\u2019 access to the database.</li> <li>Can view, add, edit, and remove any schema in the database.</li> <li>Can view, add, edit, and remove any table in the database.</li> <li>Can view, add, edit, and remove any column in the database.</li> <li>Can view, add, edit, and remove any constraint in the database.</li> <li>Can view, add, edit, and remove any record in the database.</li> <li>Can view, add, edit, and remove any exploration in the database.</li> <li>Can perform \u201cextract column\u201d and \u201cmove column\u201d actions</li> </ul>"},{"location":"product/users/#editor","title":"Editor","text":"<ul> <li>Receives Editor permissions on all schemas in the database.</li> <li>Can view any schema in the database.</li> <li>Can view any table in the database.</li> <li>Can view any column in the database.</li> <li>Can view any constraint in the database.</li> <li>Can view, add, edit, and remove any exploration in the database.</li> <li>Can view, add, edit, and remove any record in the database.</li> </ul>"},{"location":"product/users/#viewer","title":"Viewer","text":"<ul> <li>Receives Viewer permissions on all schemas in the database.</li> <li>Can view any schema in the database.</li> <li>Can view any table in the database.</li> <li>Can view any column in the database.</li> <li>Can view any constraint in the database.</li> <li>Can view any exploration in the database.</li> <li>Can use the Data Explorer to create ad-hoc explorations using data in the database, but cannot save them.</li> </ul>"},{"location":"product/users/#managing-database-roles","title":"Managing Database Roles","text":"<p>Note</p> <ul> <li>Only Admins and Database Managers can manage access to a database.</li> </ul> <ol> <li>Click on the Mathesar logo on the top left of the application to go to the database page.</li> <li>Click on the Manage Access button.</li> </ol>"},{"location":"product/users/#schema-roles","title":"Schema Roles","text":"<p>There are three levels of schema roles:</p> <ul> <li>Managers own the schema. They can edit all data in the schema, as well as edit the structure of data (e.g. create tables, add and remove columns, etc.). They also manage access to the schema.</li> <li>Editors can edit all data in the schema, but cannot change the underlying data structures or manage access.</li> <li>Viewers have read-only access to all data in the schema. They cannot make any changes.</li> </ul>"},{"location":"product/users/#manager_1","title":"Manager","text":"<ul> <li>Can view, add, and remove other users\u2019 access to the schema.</li> <li>Can view, add, edit, and remove any schema in the schema.</li> <li>Can view, add, edit, and remove any table in the schema.</li> <li>Can view, add, edit, and remove any column in the schema.</li> <li>Can view, add, edit, and remove any constraint in the schema.</li> <li>Can view, add, edit, and remove any record in the schema.</li> <li>Can view, add, edit, and remove any exploration in the schema.</li> <li>Can perform \u201cextract column\u201d and \u201cmove column\u201d actions</li> </ul>"},{"location":"product/users/#editor_1","title":"Editor","text":"<ul> <li>Can view any table in the schema.</li> <li>Can view any column in the schema.</li> <li>Can view any constraint in the schema.</li> <li>Can view, add, edit, and remove any record in the schema.</li> <li>Can view, add, edit, and remove any exploration in the schema.</li> </ul>"},{"location":"product/users/#viewer_1","title":"Viewer","text":"<ul> <li>Can view any table in the schema.</li> <li>Can view any column in the schema.</li> <li>Can view any constraint in the schema.</li> <li>Can view any exploration in the schema.</li> <li>Can use the Data Explorer to create ad-hoc explorations using data in the schema, but cannot save them.</li> </ul>"},{"location":"product/users/#managing-schema-roles","title":"Managing Schema Roles","text":"<p>Note</p> <ul> <li>Only Admins, Database Managers, and Schema Managers can manage access to a schema.</li> </ul> <ol> <li>Click on the Mathesar logo on the top left of the application to go to the database page.</li> <li>Select the appropriate schema from the list to navigate to the schema\u2019s homepage.</li> <li>Click on the Manage Access button.</li> </ol>"},{"location":"product/users/#order-of-precedence","title":"Order of Precedence","text":"<p>If a user has both a Database Role and a Schema Role for a schema within the same database, the Schema Role will only have an effect if it grants more permissions.</p> <p>Examples:</p> <ul> <li>If a user is a Database Manager but has Viewer permissions on a given schema, the schema role has no effect.</li> <li>If a user is a Database Editor but has Manager permissions on a given schema, the schema role will take precedence.</li> </ul>"}]}